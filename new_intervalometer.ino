// Parameters to edit
const unsigned int shutterListMS[] = {1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1005,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1007,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1009,1009,1009,1009,1009,1009,1009,1009,1009,1009,1009,1010,1010,1010,1010,1010,1010,1010,1010,1011,1011,1011,1011,1011,1011,1011,1012,1012,1012,1012,1012,1012,1012,1013,1013,1013,1013,1013,1014,1014,1014,1014,1014,1015,1015,1015,1015,1016,1016,1016,1016,1017,1017,1017,1017,1018,1018,1018,1019,1019,1019,1020,1020,1020,1021,1021,1021,1022,1022,1023,1023,1024,1024,1024,1025,1025,1026,1026,1027,1027,1028,1028,1029,1030,1030,1031,1031,1032,1033,1033,1034,1035,1035,1036,1037,1037,1038,1039,1040,1041,1042,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1055,1056,1057,1058,1060,1061,1062,1064,1065,1066,1068,1069,1071,1072,1074,1076,1077,1079,1081,1083,1085,1087,1088,1091,1093,1095,1097,1099,1101,1104,1106,1108,1111,1114,1116,1119,1122,1125,1127,1130,1133,1137,1140,1143,1147,1150,1154,1157,1161,1165,1169,1173,1177,1181,1185,1190,1195,1199,1204,1209,1214,1219,1225,1230,1236,1242,1248,1254,1260,1267,1273,1280,1287,1294,1302,1309,1317,1325,1333,1342,1350,1359,1369,1378,1388,1398,1408,1419,1430,1441,1452,1464,1477,1489,1502,1516,1530,1544,1558,1574,1589,1605,1622,1639,1657,1675,1694,1713,1733,1754,1776,1798,1821,1845,1869,1895,1921,1948,1976,2006,2036,2067,2100,2134,2169,2205,2243,2283,2323,2366,2410,2456,2504,2554,2607,2661,2718,2777,2839,2904,2971,3042,3117,3194,3276,3362,3451,3546,3645,3750,3860,3976,4098,4227,4363,4507,4659,4820,4991,5172,5364,5567,5783,6013,6256,6515,6790,7082,7392,7720,8069,8437,8827,9237,9668,10120,10591,11080,11584,12101,12627,13158,13689,14215,14730,15231,15710,16165,16591,16987,17350,17679,17975,18240,18473,18678,18857,19013,19146,19261,19360,19444,19515,19576,19627,19670,19707,19738,19764,19786,19804,19819,19832,19843,19852,19860,19866,19872,19876,19880,19883,19886,19888,19890,19891,19893,19894,19895,19895,19896,19896,19897,19897,19898,19898,19898,19898,19898,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899,19899}; // in millis
const unsigned int betweenSec = 5;

// Don't edit
const int shutterPin = 7;

unsigned long startMillis;
unsigned long currentMillis;
unsigned long lastMillis;

unsigned long exposureCount;

const unsigned long secInMS = 1000;

const int listLen = (sizeof(shutterListMS) / sizeof(shutterListMS[0]));

void setup() {
  // put your setup code here, to run once:
  pinMode(shutterPin, OUTPUT);
  digitalWrite(shutterPin, LOW);

  exposureCount = 0;

  startMillis = millis();
  lastMillis = startMillis;
}

void loop() {
  // put your main code here, to run repeatedly:
  currentMillis = millis();
  if (((currentMillis - lastMillis) >= (betweenSec * secInMS)) && (exposureCount <= (listLen - 1))) {
    digitalWrite(shutterPin, HIGH);
    delay(shutterListMS[exposureCount]);
    digitalWrite(shutterPin, LOW);
    exposureCount++;
    lastMillis = millis();
  }
}
